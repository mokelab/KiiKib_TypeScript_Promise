<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
  <section id="container"></section>
  <script id="loginTemplate" type="text/ractive">
    <h1>Top page</h1>
    <div>
      <table>
        <tbody>
          <tr><th>App ID</th><td><input type="text" id="appId" value="{{appId}}"></td></tr>
          <tr><th>App Key</th><td><input type="text" id="appKey" value="{{appKey}}"></td></tr>
          <tr><th>Site</th><td><select value="{{site}}">
              {{#sites}}
              <option value="{{url}}">{{name}}</option>
              {{/}}
            </select>
          </td></tr>

          <tr><th>Identifier</th><td><input type="text" id="id" value="{{id}}"></td></tr>
          <tr><th>Password</th><td><input type="password" id="pass" value="{{pass}}"></td></tr>
        </tbody>
      </table><br/>

      <button on-click="login">Login</button>
    </div>
  </script>

  <script id="topTemplate" type="text/ractive">
    <h1>Main menu</h1>
    <ul>
      <li on-click="appScope">Application Scope bucket</li>
    </ul>    
  </script>

  <script id="bucketTemplate" type="text/ractive">
    <h1>Object browser</h1>
    <div>
      <label for="name">Bucket name</label><input type="text" id="name" value="{{name}}"><button on-click="query">Query</button>
    <div>

    {{#if list.length > 0}}
    <table>
      <thead><tr><th>ID</th>
          {{#fieldList:i}}
          <th>{{.}} <span on-click="removeField:{{i}}">[-]</span></th>
          {{/}}
          <th><input type="text" value="{{fieldName}}"><button on-click="addField">+</button></th>
      </tr></thead>
      <tbody>
        {{#list}}
        <tr><td>{{id}}</td>
          {{#fieldList:i}}
          <td>{{data[.]}}</td>
          {{/}}
        </tr>
        {{/}}
      </tbody>
    </table>

    <div style="width: 48px;position:fixed;right:16px;bottom:16px;height: 48px;border-radius: 24px;background-color: cadetblue;cursor: pointer;">
      <p style="margin: 12px 12px;width: 24px;height: 24px;position: relative;text-align: center;line-height: 24px;color: white;">+</p>
    </div>
    {{/if}}
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/ractive/0.7.3/ractive.js"></script>
  <!-- for backbone.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
  <script src="https://code.jquery.com/jquery-1.9.0.min.js"></script>  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>
  <script src="../bin/KiiLib.js"></script>
  <script src="./app.js"></script>
</body>
</html>
